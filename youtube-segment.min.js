/**
 * Youtube visitor segment script for facebook pixel
 * @author  Sahan H <sahan@sahanz.com>
 */
window.onload=function(){!function(){function e(e){1==options.autoplay&&e.target.playVideo()}function t(e){if(e.data==YT.PlayerState.PLAYING){var t=n.getDuration();o=setInterval(function(){var e=n.getCurrentTime(),o=Math.ceil(e/t*100);if(o>options.injectionProgress&&!i&&!i){var a;a=options.customEvent!==!1?options.customEvent+"&cd[progress]="+o:"PageView";var r=document.createElement("img");r.src="https://www.facebook.com/tr?id="+options.facebookPixelId+"&ev="+a+"&noscript=1",r.height=1,r.width=1,document.body.appendChild(r),i=!0}},1e3)}else clearTimeout(o)}var o,n,i=!1,a=document.createElement("script");a.src="https://www.youtube.com/iframe_api";var r=document.getElementsByTagName("script")[0];r.parentNode.insertBefore(a,r);var c=options.containerId||"youtube-embed";window.onYouTubeIframeAPIReady=function(){n=new YT.Player(c,{height:options.height,width:options.width,videoId:options.videoId,events:{onReady:e,onStateChange:t}})}}()};